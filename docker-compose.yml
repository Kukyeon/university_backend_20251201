version: '3.8'

services:
  university-api:
    build: .
    container_name: university-backend
    ports:
      - "8888:8888"
    env_file: .env
    environment:
      # .env 파일에 정의한 변수들을 Spring Boot 설정 항목에 주입합니다.
      - SPRING_DATASOURCE_URL=${DB_URL}
      - SPRING_DATASOURCE_USERNAME=${DB_USERNAME}
      - SPRING_DATASOURCE_PASSWORD=${DB_PASSWORD}
      - CLOUD_AWS_CREDENTIALS_ACCESS_KEY=${S3_ACCESS_KEY}
      - CLOUD_AWS_CREDENTIALS_SECRET_KEY=${S3_SECRET_KEY}
      - CLOUD_AWS_S3_BUCKET=${S3_BUCKET}
      - SPRING_WEB_CORS_ALLOWED_ORIGINS=${ALLOWED_ORIGINS}
      - GEMINI_API_KEY=${GEMINI_API_KEY}
    restart: always