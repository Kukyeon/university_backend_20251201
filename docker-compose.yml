version: '3.8'

services:
  university-api:
    build: .
    container_name: university-backend
    ports:
      - "8888:8888"
    env_file: .env
    # ğŸ’¡ [í•µì‹¬] íŒ€ì›ë¶„ì˜ ëª…ë ¹ì–´ë¥¼ Docker ë°©ì‹ìœ¼ë¡œ ë…¹ì—¬ë‚¸ ë¶€ë¶„ì…ë‹ˆë‹¤.
    # -Duser.timezone=Asia/Seoulì„ ì‹¤í–‰ ì‹œì ì— ì§ì ‘ ì£¼ì…í•©ë‹ˆë‹¤.
    entrypoint: ["java", "-Duser.timezone=Asia/Seoul", "-jar", "app.jar"]
    environment:
      - TZ=Asia/Seoul
      - JAVA_TOOL_OPTIONS=-Duser.timezone=Asia/Seoul
      - SPRING_DATASOURCE_URL=${DB_URL}
      - SPRING_DATASOURCE_USERNAME=${DB_USERNAME}
      - SPRING_DATASOURCE_PASSWORD=${DB_PASSWORD}
      - CLOUD_AWS_CREDENTIALS_ACCESS_KEY=${S3_ACCESS_KEY}
      - CLOUD_AWS_CREDENTIALS_SECRET_KEY=${S3_SECRET_KEY}
      - CLOUD_AWS_S3_BUCKET=${S3_BUCKET}
      - SPRING_WEB_CORS_ALLOWED_ORIGINS=${ALLOWED_ORIGINS}
      - GEMINI_API_KEY=${GEMINI_API_KEY}
    volumes:  
      - /etc/localtime:/etc/localtime:ro
      - /etc/timezone:/etc/timezone:ro
    restart: always